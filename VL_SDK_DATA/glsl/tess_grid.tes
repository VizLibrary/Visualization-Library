#version 400 compatibility
#extension GL_ARB_tessellation_shader : enable

layout( quads, equal_spacing, ccw ) in;

in vec4 tcsPosition[];

void main( )
{
	float u = gl_TessCoord.x;
	float v = gl_TessCoord.y;
	vec4 a = mix(tcsPosition[0], tcsPosition[1], u);
	vec4 b = mix(tcsPosition[3], tcsPosition[2], u);
	vec4 p = mix(a,b,v);
	gl_Position = gl_ModelViewProjectionMatrix * p;
	
	// lighting equation should go here
	gl_FrontColor = vec4(1.0,1.0,1.0,1.0);
}
